#pragma checksum "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f2e6ebf359e4c8de527eed8eef8033d0ab3c0ec5"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Ketoan_UpdateVeSot), @"mvc.1.0.view", @"/Views/Ketoan/UpdateVeSot.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Ketoan/UpdateVeSot.cshtml", typeof(AspNetCore.Views_Ketoan_UpdateVeSot))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f2e6ebf359e4c8de527eed8eef8033d0ab3c0ec5", @"/Views/Ketoan/UpdateVeSot.cshtml")]
    public class Views_Ketoan_UpdateVeSot : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Manager_EV.Models.ChiTietVeSot>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(39, 15, true);
            WriteLiteral("\r\n<style>\r\n    ");
            EndContext();
            BeginContext(55, 778, true);
            WriteLiteral(@"@media(min-width: 768px) {
        .modal-dialog {
            width: 800px;
            margin: 30px auto;
        }
    }

    .modal-body img {
        width: 100% !important;
        height: auto !important;
    }

    .modal-header {
        padding: 6px 15px;
        border-bottom: none;
    }
</style>

<div class=""modal-dialog"">

    <!-- Modal content-->
    <div class=""modal-content"">
        <div class=""modal-header"">
            <button type=""button"" class=""close"" data-dismiss=""modal"">&times;</button>
            <h1 style=""color:red"">Sửa báo cáo vé</h1>
        </div>
        <div class=""modal-body"">
            <div class=""row"">
                <input class=""form-control"" type=""text"" hidden name=""CurrentIndex"" id=""CurrentIndex""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 833, "\"", 856, 1);
#line 32 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 841, Model.RowIndex, 841, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(857, 126, true);
            WriteLiteral(" />\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 983, "\"", 1000, 1);
#line 35 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 991, Model.ID, 991, 9, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1001, 125, true);
            WriteLiteral(" id=\"RowID\" hidden/>\r\n                        <input class=\"form-control\" type=\"text\" name=\"Hang\" disabled readonly id=\"Hang\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1126, "\"", 1146, 1);
#line 36 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1134, Model.MAHHK, 1134, 12, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1147, 232, true);
            WriteLiteral("  />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"PNR\" id=\"PNR\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1379, "\"", 1397, 1);
#line 41 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1387, Model.PNR, 1387, 10, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1398, 234, true);
            WriteLiteral("  />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"SoVe\" id=\"SoVe\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1632, "\"", 1651, 1);
#line 46 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1640, Model.SoVe, 1640, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1652, 380, true);
            WriteLiteral(@"  />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""row"">
                        <div class=""col-sm-9"">
                            <div class=""item form-group"">
                                <input style=""text-transform: uppercase;"" class=""form-control"" type=""text"" disabled readonly name=""MaKH""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2032, "\"", 2051, 1);
#line 53 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2040, Model.MAKH, 2040, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2052, 599, true);
            WriteLiteral(@" id=""MaKH"" placeholder=""Mã KH"" />
                            </div>
                        </div>
                        <div class=""col-sm-3"">
                            <button id=""check"" class=""btn btn-info"" type=""submit"" style=""box-shadow: 2px 2px 5px #838080; ""><i class=""fa fa-search"" aria-hidden=""true""></i></button>
                        </div>
                    </div>

                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""GiaMua"" id=""GiaMua""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2651, "\"", 2672, 1);
#line 64 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2659, Model.GiaMua, 2659, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2673, 259, true);
            WriteLiteral(@" placeholder=""Giá mua"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiMua"" id=""PhiMua""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2932, "\"", 2955, 1);
#line 69 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2940, Model.PhiDVMua, 2940, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2956, 267, true);
            WriteLiteral(@" placeholder=""Phí dịch vụ mua"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiBan"" id=""PhiBan""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3223, "\"", 3246, 1);
#line 74 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3231, Model.PhiDVBan, 3231, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3247, 269, true);
            WriteLiteral(@" placeholder=""Phí dịch vụ bán"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiHoan"" id=""PhiHoan""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3516, "\"", 3538, 1);
#line 79 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3524, Model.PhiHoan, 3524, 14, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3539, 266, true);
            WriteLiteral(@" placeholder=""Phí hoàn"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""ChietKhau"" id=""ChietKhau""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3805, "\"", 3829, 1);
#line 84 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3813, Model.ChietKhau, 3813, 16, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3830, 272, true);
            WriteLiteral(@" placeholder=""Chiết khấu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""MaGioiThieu"" id=""MaGioiThieu""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4102, "\"", 4128, 1);
#line 89 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 4110, Model.MaGioiThieu, 4110, 18, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4129, 281, true);
            WriteLiteral(@" placeholder=""Mã giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""NguoiGioiThieu"" id=""NguoiGioiThieu""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4410, "\"", 4439, 1);
#line 94 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 4418, Model.NguoiGioiThieu, 4418, 21, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4440, 5488, true);
            WriteLiteral(@" placeholder=""Người giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <p id=""tenCTY"" style=""color:red; font-size:14px""></p>
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <label>&nbsp;</label>
                        <div style=""text-align:right"">
                            <button id=""save"" class=""btn btn-primary"" type=""submit"">Lưu sửa</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(""#check"").click(function () {
        var makh = document.getElementById(""MaKH"").value;
        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
            url: ""/");
            WriteLiteral(@"PhongVe/SearchMaKHBaoCaoVeSot"",
            data: {
                MaKH: makh,
            },
            success: function (response) {

                document.getElementById(""tenCTY"").innerHTML = makh + "" : "" + response
                return;
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>
<script>
    $(""#save"").click(function () {
        var id = document.getElementById(""RowID"").value;
        var pnr = document.getElementById(""PNR"").value;
        var sove = document.getElementById(""SoVe"").value;
        var hang = document.getElementById(""Hang"").value;
        var makh = document.getElementById(""MaKH"").value;
        var giamua = document.getElementById(""GiaMua"").value;
        var phimua = document.getElementById(""PhiMua"").value;
        var phiban = document.getElementByI");
            WriteLiteral(@"d(""PhiBan"").value;
        var phihoan = document.getElementById(""PhiHoan"").value;
        var chietkhau = document.getElementById(""ChietKhau"").value;
        var Index = document.getElementById(""CurrentIndex"").value;
        var magioithieu = document.getElementById(""MaGioiThieu"").value;
        var nguoigioithieu = document.getElementById(""NguoiGioiThieu"").value;

        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
            url: ""/KeToan/SaveBaoCaoVeSot"",
            data: {
                ID: id,
                PNR: pnr,
                SoVe: sove,
                Hang: hang,
                MaKH: makh,
                GiaMua: giamua,
                PhiMua: phimua,
                PhiBan: phiban,
                PhiHoan: phihoan,
                ChietKhau: chietkhau,
                MaGioiThieu: magioithieu,
                NguoiGioiThieu: nguoigioithieu
            },
            ");
            WriteLiteral(@"success: function (response) {
              
                if (response == 1) {
                    document.getElementById(""gridVeSot"").rows[Index].cells[2].innerHTML = hang;
                

                    document.getElementById(""gridVeSot"").rows[Index].cells[3].innerHTML = makh;
                    document.getElementById(""gridVeSot"").rows[Index].cells[4].innerHTML = makh;
                   
                    document.getElementById(""gridVeSot"").rows[Index].cells[8].innerHTML = pnr;
                    document.getElementById(""gridVeSot"").rows[Index].cells[9].innerHTML = sove;
                    document.getElementById(""gridVeSot"").rows[Index].cells[10].innerHTML = giamua;
                    document.getElementById(""gridVeSot"").rows[Index].cells[11].innerHTML = phimua;
                    document.getElementById(""gridVeSot"").rows[Index].cells[12].innerHTML = phiban;
                    document.getElementById(""gridVeSot"").rows[Index].cells[13].innerHTML = phihoan;
            ");
            WriteLiteral(@"        document.getElementById(""gridVeSot"").rows[Index].cells[14].innerHTML = chietkhau;
                    document.getElementById(""gridVeSot"").rows[Index].cells[16].innerHTML = magioithieu;
                    document.getElementById(""gridVeSot"").rows[Index].cells[17].innerHTML = nguoigioithieu;
                    alert(""Sửa báo cáo thành công"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == -1) {
                    alert(""Số vé này bạn đã báo cáo rồi"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == -2) {
                    alert(""Mã KH này không tồn tại vui lòng kiểm tra lại mã KH hoặc liên hệ kế toán để kiểm tra mã KH"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == 0 || response == 1) {
                    alert(""Báo cáo vé không thành c");
            WriteLiteral(@"ông"");
                    $('#openPopup').modal('hide');
                    return;
                }

            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Manager_EV.Models.ChiTietVeSot> Html { get; private set; }
    }
}
#pragma warning restore 1591
