#pragma checksum "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\PhongVe\BaoCaoVeSot.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9c88e93db62257e288eaea8458a7bbbfa3b93fc9"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_PhongVe_BaoCaoVeSot), @"mvc.1.0.view", @"/Views/PhongVe/BaoCaoVeSot.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/PhongVe/BaoCaoVeSot.cshtml", typeof(AspNetCore.Views_PhongVe_BaoCaoVeSot))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9c88e93db62257e288eaea8458a7bbbfa3b93fc9", @"/Views/PhongVe/BaoCaoVeSot.cshtml")]
    public class Views_PhongVe_BaoCaoVeSot : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(120, 15, true);
            WriteLiteral("\r\n<style>\r\n    ");
            EndContext();
            BeginContext(136, 778, true);
            WriteLiteral(@"@media(min-width: 768px) {
        .modal-dialog {
            width: 800px;
            margin: 30px auto;
        }
    }

    .modal-body img {
        width: 100% !important;
        height: auto !important;
    }

    .modal-header {
        padding: 6px 15px;
        border-bottom: none;
    }
</style>

<div class=""modal-dialog"">

    <!-- Modal content-->
    <div class=""modal-content"">
        <div class=""modal-header"">
            <button type=""button"" class=""close"" data-dismiss=""modal"">&times;</button>
            <h1 style=""color:red"">Báo cáo vé sót</h1>
        </div>
        <div class=""modal-body"">
            <div class=""row"">
                <input class=""form-control"" type=""text"" hidden name=""CurrentIndex"" id=""CurrentIndex""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 914, "\"", 943, 1);
#line 33 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\PhongVe\BaoCaoVeSot.cshtml"
WriteAttributeValue("", 922, ViewBag.CurrentIndex, 922, 21, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(944, 181, true);
            WriteLiteral(" />\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"Hang\" id=\"Hang\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1125, "\"", 1146, 1);
#line 36 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\PhongVe\BaoCaoVeSot.cshtml"
WriteAttributeValue("", 1133, ViewBag.HANG, 1133, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1147, 240, true);
            WriteLiteral(" readonly />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"PNR\" id=\"PNR\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1387, "\"", 1407, 1);
#line 41 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\PhongVe\BaoCaoVeSot.cshtml"
WriteAttributeValue("", 1395, ViewBag.PNR, 1395, 12, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1408, 242, true);
            WriteLiteral(" readonly />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"SoVe\" id=\"SoVe\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1650, "\"", 1671, 1);
#line 46 "D:\EnViet\SourceAzure\sys.airline24h.com\DaiLy_EV\Views\PhongVe\BaoCaoVeSot.cshtml"
WriteAttributeValue("", 1658, ViewBag.SOVE, 1658, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1672, 6892, true);
            WriteLiteral(@" readonly />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""row"">
                        <div class=""col-sm-9"">
                            <div class=""item form-group"">
                                <input style=""text-transform: uppercase;"" class=""form-control"" type=""text"" name=""MaKH"" id=""MaKH"" placeholder=""Mã KH"" />
                            </div>
                        </div>
                        <div class=""col-sm-3"">
                            <button id=""check"" class=""btn btn-info"" type=""submit"" style=""box-shadow: 2px 2px 5px #838080; ""><i class=""fa fa-search"" aria-hidden=""true""></i></button>
                        </div>
                    </div>

                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""GiaMua"" id=""GiaMua"" placeholder=""Giá mua"" />
                    </div>
");
            WriteLiteral(@"                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiMua"" id=""PhiMua"" placeholder=""Phí dịch vụ mua"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiBan"" id=""PhiBan"" placeholder=""Phí dịch vụ bán"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiHoan"" id=""PhiHoan"" placeholder=""Phí hoàn"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""ChietKhau"" id=""ChietKhau"" placeholder=""Chiế");
            WriteLiteral(@"t khấu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""MaGioiThieu"" id=""MaGioiThieu"" placeholder=""Mã giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""NguoiGioiThieu"" id=""NguoiGioiThieu"" placeholder=""Người giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <p id=""tenCTY"" style=""color:red; font-size:14px""></p>
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <label>&nbsp;</label>
                        <div style=""tex");
            WriteLiteral(@"t-align:right"">
                            <button id=""save"" class=""btn btn-primary"" type=""submit"">Lưu</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(""#check"").click(function () {
        var makh = document.getElementById(""MaKH"").value;
        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
            url: ""/PhongVe/SearchMaKHBaoCaoVeSot"",
            data: {
                MaKH: makh,
            },
            success: function (response) {
                
                document.getElementById(""tenCTY"").innerHTML = makh + "" : "" + response
                return;
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
        ");
            WriteLiteral(@"    }
        });
    });
</script>
<script>
    $(""#save"").click(function () {
        var pnr = document.getElementById(""PNR"").value;
        var sove = document.getElementById(""SoVe"").value;
        var hang = document.getElementById(""Hang"").value;
        var makh = document.getElementById(""MaKH"").value;
        var giamua = document.getElementById(""GiaMua"").value;
        var phimua = document.getElementById(""PhiMua"").value;
        var phiban = document.getElementById(""PhiBan"").value;
        var phihoan = document.getElementById(""PhiHoan"").value;
        var chietkhau = document.getElementById(""ChietKhau"").value;
        var Index = document.getElementById(""CurrentIndex"").value;
        var magioithieu = document.getElementById(""MaGioiThieu"").value;
        var nguoigioithieu = document.getElementById(""NguoiGioiThieu"").value;
     
        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
   ");
            WriteLiteral(@"         url: ""/PhongVe/SaveBaoCaoVeSot"",
            data: {
                PNR: pnr,
                SoVe: sove,
                Hang: hang,
                MaKH: makh,
                GiaMua: giamua,
                PhiMua: phimua,
                PhiBan: phiban,
                PhiHoan: phihoan,
                ChietKhau: chietkhau,
                MaGioiThieu: magioithieu,
                NguoiGioiThieu: nguoigioithieu
            },
            success: function (response) {
                if (response == 1) {
                    document.getElementById(""gridVeSot"").rows[Index].cells[9].innerHTML = ""Đã báo cáo, chờ KT cập nhật"";
                    alert(""Bạn đã báo cáo vé thành công"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == -1) {
                    alert(""Số vé này bạn đã báo cáo rồi"");
                    $('#openPopup').modal('hide');
                    return;
                }
   ");
            WriteLiteral(@"             if (response == -2) {
                    alert(""Mã KH này không tồn tại vui lòng kiểm tra lại mã KH hoặc liên hệ kế toán để kiểm tra mã KH"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == 0 || response == 1) {
                    alert(""Báo cáo vé không thành công"");
                    $('#openPopup').modal('hide');
                    return;
                }
                
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
